runtime: python39  # Adjust if needed based on your Flask version
entrypoint: gunicorn -b :$PORT main:app

handlers:
  # Handle API routes for Flask
- url: /api/.*
  script: auto

  # Serve static files generated by Vite
- url: /static
  static_dir: client-side/dist

  # Rewrite all other URLs to the Vite entry point
- url: /(.*)
  static_files: client-side/dist/index.html
  upload: client-side/dist/index.html
